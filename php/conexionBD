<?php

/*
 * Autor: Carlos A Delgado 
 * Clase que sirve como interfaz para la comunicaci�n con
 * la base de datos.
 * Acciones
 * 1. Abrir conexión
 * 2. Ejecutar una sentencia (INSERT, UPDATE, DELETE)
 * 3. Enviar un consulta (SELECT)
 * 4. Cerrar conexión
 */

class Fachada {

    private $servidor;
    private $base;
    private $usuario;
    private $contrasena;
    private $conexion;

    function __construct($servidor, $base, $usuario, $contrasena) {
        $this->servidor = $servidor;
        $this->base = $base;
        $this->usuario = $usuario;
        $this->contrasena = $contrasena;
    }

    function __destruct() {
        
    }

    function abrirConexion() {
        $this->conexion = mysql_connect($this->servidor, $this->usuario, $this->contrasena);
        if ($this->conexion == false)
            return false;
        return mysql_select_db($this->base, $this->conexion);
    }

    function cerrarConexion() {
        return mysql_close($this->conexion);
    }

    function enviarConsulta($consulta) {
        $resultado = mysql_query($consulta, $this->conexion);
        return $resultado;
    }

    function ejecutarSentencia($sentencia) {
        return mysql_query($sentencia, $this->conexion);
    }

}

?>
